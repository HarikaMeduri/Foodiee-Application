
<div *ngIf="products.length != 0">
<div class="container" >
  <span class="example-spacer" style="margin-right: 100px"></span>
  <button routerLink="/usernavdashboard/userdashboard" mat-stroked-button color="primary">Shop More</button>
  <span class="example-spacer" style="margin-right: 100px"></span>
  <button mat-stroked-button color="warn" (click)="checkout()">Checkout</button>
  <span class="example-spacer" style="margin-right: 100px"></span>
  <strong>Grand Total : Rs {{ grandTotal }}</strong>
</div>

<div class="container mt-2">
<table mat-table [dataSource]="products" class="mat-elevation-z8">

  <!-- Position Column -->
  <ng-container matColumnDef="Sr.No">
    <th mat-header-cell *matHeaderCellDef> <b>Sr.No</b> </th>
    <td mat-cell *matCellDef="let element; let i=index;"> {{i+1}} </td>
  </ng-container>

  <!-- Position Column -->
  <ng-container matColumnDef="Food Name">
    <th mat-header-cell *matHeaderCellDef> <b>Food Name</b> </th>
    <td mat-cell *matCellDef="let element"> {{element.foodname}} </td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="Price">
    <th mat-header-cell *matHeaderCellDef> <b>Price</b> </th>
    <td mat-cell *matCellDef="let element"> {{element.price}} </td>
  </ng-container>

  <!-- Weight Column -->
  <ng-container matColumnDef="Quantity">
    <th mat-header-cell *matHeaderCellDef> <b style="margin-left:25px;">Quantity</b> </th>
    <td mat-cell *matCellDef="let element"> 
      <button mat-icon-button color="warn" (click)="inc(element)" (click)="subtotal()">
        <mat-icon>add_circle</mat-icon>
      </button>
      {{element.quantity}} 
      <button mat-icon-button color="warn" (click)="dec(element)" (click)="subtotal()">
        <mat-icon>remove_circle</mat-icon>
      </button>
    </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="Discounted Price">
    <th mat-header-cell *matHeaderCellDef> <b style="margin-left: -20px;">Discounted Price</b> </th>
    <td mat-cell *matCellDef="let element"> {{element.discountprice}} </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="Sub Total">
    <th mat-header-cell *matHeaderCellDef> <b>Sub Total</b> </th>
    <td mat-cell *matCellDef="let element"> {{element.subtotal}} </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="Delete">
    <th mat-header-cell *matHeaderCellDef> <b>Delete</b> </th>
    <td mat-cell *matCellDef="let element"> 
      <button mat-icon-button color="warn" (click)="removeItem(element.foodname)">
        <mat-icon>delete</mat-icon>
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
</div>
</div>

<ng-container *ngIf="products.length == 0">
  <div class="container">
    <div class="card">
      <h5 class="card-title">My Cart</h5>
    </div>
    <div class="center">
      <img
        src="https://rukminim1.flixcart.com/www/800/800/promos/16/05/2019/d438a32e-765a-4d8b-b4a6-520b560971e8.png?q=90"
        alt=""
      />
      <h4>Your cart is empty!</h4>
      <h6>Add item to it now</h6>
      <button
        routerLink="/usernavdashboard/userdashboard"
        class="btn btn-primary"
      >
        Shop Now
      </button>
    </div>
  </div>
</ng-container> -->







<!-- 

<ng-container *ngIf="products.length != 0">
  <div class="container">
    <div class="card-table">
      <div class="cart-product">
        <table class="table table-responsive">
          <thead class="thead">
            <tr>
              <th>Sr.No</th>
              <th>Food Name</th>
              <th>Quantity</th>

              <th>Discounted Price</th>
              <th>Sub Total</th>
            </tr>
          </thead>
          <tbody class="tbody" *ngFor="let x1 of products; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ x1.foodname }}</td>

            <div class="content1">
              <div>
              <button
                type="button"
                class="btn1"
                (click)="inc(x1)"
                (click)="subtotal()"
              >
                <i class="fa fa-plus"></i>
              </button>
            </div>

              <div >
                <td>{{ x1.quantity }}</td>
              </div>

              <div>
                <button
                type="button"
                class="btn1"
                (click)="dec(x1)"
                (click)="subtotal()"
                >
                <i class="fa fa-minus"></i>
                </button>
            </div>
            </div>

            <td>{{ x1.discountprice }}</td>
            <td>{{ x1.subtotal }}</td>

            <td>
              <button mat-stroked-button color="warn" (click)="removeItem(x1.foodname)">
                Remove
              </button>
            </td>
          </tbody>
        </table>
        <button (click)="emptycart()" class="btn btn-danger">Empty Cart</button>
      </div>
    </div>
    <button routerLink="/usernavdashboard/userdashboard"
    class="btn btn-primary">Shop More
    </button>
  <span class="example-spacer" style="margin-right: 100px"></span>
  <button class="btn btn-success" (click)="checkout()">Checkout</button>
  <span class="example-spacer" style="margin-right: 100px"></span>
  <strong>Grand Total : Rs {{ grandTotal }}</strong>
  </div>
</ng-container>

<ng-container *ngIf="products.length == 0">
  <div class="container">
    <div class="card">
      <h5 class="card-title">My Cart</h5>
    </div>
    <div class="center">
      <img
        src="https://rukminim1.flixcart.com/www/800/800/promos/16/05/2019/d438a32e-765a-4d8b-b4a6-520b560971e8.png?q=90"
        alt=""
      />
      <h4>Your cart is empty!</h4>
      <h6>Add item to it now</h6>
      <button
        routerLink="/usernavdashboard/userdashboard"
        class="btn btn-primary"
      >
        Shop Now
      </button>
    </div>
  </div>
</ng-container> -->
